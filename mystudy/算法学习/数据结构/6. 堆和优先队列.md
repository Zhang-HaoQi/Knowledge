# 优先队列

## 介绍

普通队列：先进先出，后进后出

优先队列：出队顺序和出队顺序无关，和优先级有关（医院床位，重病 优先使用床位）

操作系统执行任务时，动态选择优先级高的执行。

动态：我们并不能在一开始就确定我们要执行多少数据。

使用场景：

如：AI优先攻击血量最高的敌人。

**实现方法**

![image-20220209110659655](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209110659655.png)

**实现方式**

![image-20220209111727349](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209111727349.png)

## 堆

### 介绍

**二叉堆：**满足一些特殊性质的二叉树

![image-20220209113727365](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209113727365.png)



二叉堆是一个完全二叉树

**完全二叉树：**把元素一层一层的放，直到放完为止。

![image-20220209113912892](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209113912892.png)

**二叉堆性质：**堆中的某个结点都大于等于其子节点。

**最大堆：**所有的节点都大于子节点，根节点最大。

**最小堆：**所有的节点都小于子节点，根节点最小。

![image-20220209114416709](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209114416709.png)

### 代码实现

#### 数组存储二叉堆

方式一：从数组索引为1的位置开始存储。

![image-20220209143701758](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209143701758.png)

方式二：从数组索引为0的位置开始存储。

![image-20220209144110013](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220209144110013.png)

```java
public class MaxHeap<E extends Comparable<E>> {

    private Array<E> data;

    public MaxHeap(int capacity){
        data = new Array<>(capacity);
    }

    public MaxHeap(){
        data = new Array<>();
    }

    // 返回堆中的元素个数
    public int size(){
        return data.getSize();
    }

    // 返回一个布尔值, 表示堆中是否为空
    public boolean isEmpty(){
        return data.isEmpty();
    }

    // 返回完全二叉树的数组表示中，一个索引所表示的元素的父亲节点的索引
    private int parent(int index){
        if(index == 0)
            throw new IllegalArgumentException("index-0 doesn't have parent.");
        return (index - 1) / 2;
    }

    // 返回完全二叉树的数组表示中，一个索引所表示的元素的左孩子节点的索引
    private int leftChild(int index){
        return index * 2 + 1;
    }

    // 返回完全二叉树的数组表示中，一个索引所表示的元素的右孩子节点的索引
    private int rightChild(int index){
        return index * 2 + 2;
    }
}
```

