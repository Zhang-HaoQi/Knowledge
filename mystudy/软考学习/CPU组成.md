# 基本硬件

基本硬件系统组成：

1. 运算器
2. 控制器
3. 存储器
4. 输入设备
5. 输出设备

运算器和控制器等组成了中央处理器CPU，CPU是硬件的核心，用于数据加工处理，能完成各种算数，逻辑运算及控制功能。

存储器是记忆设备，分为内部存储（速度快，容量小）和外部存储（速度慢，容量大）

输入设备用于输入原始数据和各种指令，输出设备用于输出计算机的运行结果

# CPU

## 组成

### 1.运算器

- 组成

	- 算术逻辑单元

		- 处理数据，实现对数据的算术运算和逻辑运算

	- 累加寄存器

		- 暂存进行计算的数字和存储算术运算结果

	- 数据缓冲寄存器

		- 对内存储器进行读写操作时，用它暂存由内存储器读/写的一条指令或一个数据字，将不同时间段内读/写的数据隔离开来。
		- 功能

			- 作为CPU和内存，外部设备之间数据传送的中转站
			- 作为CPU和内存、外围设备之间在操作速度上的缓冲
			- 在单累加器结构的运算中，数据缓冲寄存器还可兼作为操作数寄存器。

	- 状态条件寄存器

		- 保存算术指令和逻辑指令运行或测试的结果建立的各种条件码内容，主要分为状态标志和控制标志。
		- 通常一个算术操作产生一个运算结果，一个逻辑操作产生一个判决。

- 功能

	- 数据加工处理的部件，用于完成计算机的各种算数和逻辑运算
	- 执行所有算术运算：加减乘除等基本运算以及附加运算
	- 执行所有逻辑运算并进行逻辑测试，例如与、或、非测试或两个值的比较

### 2.控制器

- 组成

  - 程序计数器PC（又称指令计数器是专用寄存器）

  	- 功能

  		- 寄存信息

  			- 存的是程序指令的地址

  		- 计数

  	- 执行流程

  		- 在程序开始执行前，将程序的起始地址送入PC，该地址在程序加载到内存时确定，因此PC的初始内容即是程序第一条指令的地址。执行指令时，CPU将自动修改PC的内容，以便使其保持的总是将要执行的下一条指令的地址。由于大多数指令都是按顺序执行的，因此修改的过程通常只是简单地对PC加1。当遇到转移指令时，后继指令的地址根据当前指令的地址加上一个向前或向后转移的位移量得到，或者根据转移指令给出的直接转移的地址得到。

  - 指令寄存器IR

    - 功能

      - 保存正在执行的指令
      - 能够处理异常事件

    - 执行流程

    	- 当执行一条指令时，先把它从内存取到数据寄存器（DR）中，然后再传送至IR。为了执行任何给定的指令，必须对操作码进行测试，以便识别所要求的操作。指令译码器（ID）就是做这项工作的。指令寄存器中操作码字段的输出就是指令译码器的输入。操作码一经译码后，即可向操作控制器发出具体操作的特定信号。 地址寄存器（AR）用来保存当前CPU所访问的内存单元的地址。由于在内存和CPU之间存在着操作速度上的差别，所以必须使用地址寄存器来保持地址信息，直到内存的读/写操作完成为止。 为了保证程序指令能够连续地执行下去，CPU必须具有某些手段来确定下一条指令的地址。而程序计数器正起到这种作用，所以通常又称为指令计数器。在程序开始执行前，必须将它的起始地址，即程序的一条指令所在的内存单元地址送入PC，因此程序计数器（PC）的内容即是从内存提取的第一条指令的地址。当执行指令时，CPU将自动修改PC的内容，即每执行一条指令PC增加一个量，这个量等于指令所含的字节数，以便使其保持的总是将要执行的下一条指令的地址。由于大多数指令都是按顺序来执行的，所以修改的过程通常只是简单的对PC加1。             

  - 指令译码器

  	- 功能

  		- 对操作码进行分析解释，向控制器发送具体的控制信号。

  	- 指令包含操作码和地址码两部分，为了能执行任何给定的指令，必须对操作码进行分析，以便识别所完成的操作。

  - 地址寄存器（AR）

  	- 功能

  		- 保存CPU当前所访问内存单元的地址。

  	- 由于内存和CPU存在着操作速度上的差异，所以需要使用AR保持地址信息，知道内存的读写操作完成为止。

  - 时序产生器
  - 操作控制器
  - 时序控制逻辑

  	- 为每条指令按时间顺序提供应有的控制信号

  - 总线逻辑

  	- 为多个功能部件服务的信息通络的控制电路

  - 中断控制逻辑

  	- 用于控制各种中断请求，并根据优先级的高低对中断请求进行排队，逐个交给CPU处理。

- 功能

	- 1.从内存取出一条指令，并指出下一条指令在内存中的位置
	- 2.对指令进行译码或测试，并产生相应的操作控制信号，以便启动规定的动作
	- 3.指挥并控制CPU、内存、输入输出设备之间数据的流动

- 过程

	- 1.取指令
	- 2.指令译码
	- 3.按指令操作码执行
	- 4.形成下一条指令地址

### 3.寄存器

- 分类

	- 专用寄存器
	- 通用寄存器

- 运算器和控制器中的寄存器是专用寄存器，其作用是固定的。通用寄存器用途广泛并可由程序员规定其用途，其数目因处理器不同而有所差异。

### 4.内部总线

## 功能

1. 程序控制：cpu通过执行指令来控制程序的执行顺序
2. 操作控制：一条指令功能实现需要若干信号，cpu产生每条指令的操作信号，并将信号送往指定部件，让相关部件按指令功能进行操作。
3. 时间控制：各种操作进行时间上的控制
4. 数据处理：CPU通过对数据进行算术运算以及逻辑运算等方式进行处理，处理结果供人们使用

## 不确定的分类

### 数据寄存器

- 功能

	- 是存放操作数、运算结果和运算的中间结果，以减少访问存储器的次数，或者存放从存储器读取的数据以及写入存储器的数据的寄存器。

- 分类

	- AX(accumulator)累加器
	- BX(base)基址
	- CX(count)计数
	- DX(data)数据

### 地址寄存器(AR)

- 功能

	- 保存当前CPU所访问的内存单元的地址，方便对内存的读写操作。

### 累加器（AC）

- 专门存放算术或逻辑运算的一个操作数和运算结果的寄存器

### 算逻运算单元（ALU）

- 是CPU的执行单元，主要负责运算工作

### DMA控制器

# 总线

计算机设备与设备之间传输信息的公共数据通道。是链接硬件系统内多种设备的通信线路。总线上所有设备共享。

总线分类：

1. 数据总线：传输数据，双向
2. 地址总线：传输cpu发出的地址信息，单向
3. 控制总线：传送控制信号，时序信号和状态信息

总线复用可以减少总线中信号线的数量，以减少信号线传输更多的信息。

