# N/BIO

## 1. stream和buffer的区别

buffer:内存中一块确定的临时存储区域。
stream:一段不确定长度的数据序列，可以认为stream就是I/O中input部分的FIFO实现，为了方便理解，可以用键盘输入作为输入来举例，从键盘中敲入的字符组成一段stream,先敲入的字符先被读取，也就是FIFO,但是读取的过程中，你并不知道总共要读取多少，也就是长度的不确定性。

**读取过程：**

stream：

1. 程序向 stream 发起请求，要读取一个字节。
2. stream 在磁盘上定为到请求的字节，并发送给程序。
3. 程序得到这个字节后，在进行请求，重复到第一步

严重的效率问题，读取一个字节需要在程序和stream之间来回一次，那么1000个字节就是1000次。

buffer：

buffer 根据上面的概念,他是内存中一块确定的临时存储区域。如果使用一个 1000 字节的 buffer ,那么程序和 stream 的关系就变成:

1. 程序向stream发起请求，要求stream将buffer填满。
2. stream向buffer中填充字节，要么填满1000个字节为止，要么stream到达结尾为止。
3. 程序从buffer中一次性获取1000字节的数据

好处：buffer的好处在于减少的请求IO的次数，也大大提升了效率



