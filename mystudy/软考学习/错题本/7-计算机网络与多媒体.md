# ISO/OSI网络体系结构

## 知识

1. 在TCP/IP网络中，建立连接进行可靠通信是在传输层完成，在OIS/RM同样在传输层完成。
2. TCP和UDP均提供了端口寻址能力
   1. TCP 可靠
   2. UDP 不可靠，提高传输的高速率性

![image-20211031093759889](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031093759889.png)

![image-20211031093954265](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031093954265.png)

3. DHCP客户端可从DHCP服务器获得DNS服务器的地址和DHCP服务器的地址，默认网关的地址。
4. 主机路由的子网掩码为255.255.255.255

# 网络互连硬件

## 网络层次与主要设备的对应

此表一定要背会。

![image-20211002212420789](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211002212420789.png)

1. 物理层：中继器，集线器
2. 数据链路层：网桥，交换机，网卡
3. 网络层：三层交换机，路由器
4. 传输层：TCP，UDP
5. 会话层：POP3、FTP、HTTP、Te1net、SMTPDHCP、TFTP、SNMP、DNS
6. 表示层：POP3、FTP、HTTP、Te1net、SMTPDHCP、TFTP、SNMP、DNS
7. 应用层：POP3、FTP、HTTP、Te1net、SMTPDHCP、TFTP、SNMP、DNS

**集线器**

集线器是物理层设备，相当于在10BASE2局域网中把连接工作站的同轴电缆收拢在一个盒子里，这个盒子只起到接收和发送的功能，可以检测发送冲突，但不能识别数据链路层的帧。

**网桥**

网桥是数据链路层设备，它可以识别数据链路层MAC地址，有选择地把帧发送到输出端口，网桥也可以有多个端口，如果网桥端口很多，并配置了加快转发的硬件，就成为局域网交换机。      

**中继器**     

中继器是物理层设备，其作用是对接收的信号进行再生放大，以延长传输的距离。

**路由器**

路由器是网络层设备，可以识别IP地址，进行数据包的转发。               

## 网路配置

### 冲突域和广播域

![image-20211031110639758](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031110639758.png)

集线器连接的主机构成一个冲突域，交换机的每个端口属于一个冲突域，路由器连接的两部分网络形成两个广播域，所以共有两个广播域和5个冲突域。

![image-20211031112245839](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031112245839.png)

集线器是一种物理层设备，它的作用是从一个端口接收信息，并向其他端口广播出去。 集线器不解释所传送信息的含义，也不能识别任何协议数据单元。**集线器的各个端口构成一个冲突域，即只能有一个端口发送数据，如果有两个以上端口同时发送，就冲突了**。

网桥是数据链路层设备，能识别数据链路层协议数据单元，并根据数据链路层地址进行数据转发。

交换机是一种多端口网桥，任何一对端口之间都能进行数据转发。交换机的各个端口构成一个广播域，但不是冲突域，即可以有多个端口同时发送数据而不会出现冲突。             

## 出口IP

![image-20211031111636757](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031111636757.png)

PC2发送到Internet上的报文经代理服务器转换后，源IP地址变成代理服务器的出口IP地址，即202.117.112.2。             

## 局域网

![image-20211031112031023](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031112031023.png)

把局域网划分成多个不同的VLAN，使得网络接入不再局限于物理位置的约束，这样就简化了在网络中增加、移除和移动主机的操作，特别是动态配置的VLAN，无论主机在哪里，它都处于自己的VLAN中。VLAN内部可以相互通信，VLAN之间不能直接通信，必须经过特殊设置的路由器才可以连通。这样做的结果是，通过在较大的局域网中创建不同的VLAN，可以抵御广播风暴的影响，也可以通过设置防火墙来提高网络的安全性。VLAN并不能直接增强网络的安全性。             

![image-20211031151136181](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031151136181.png)

**在层次化局域网模型中，核心层的主要功能是将分组从一个区域高速地转发到另一个区域**。核心层是因特网络的高速骨干，由于其重要性，因此在设计中应该采用冗余组件设计，使其具备高可靠性，能快速适应变化。在设计核心层设备的功能时，应尽量避免使用数据包过滤、策略路由等降低数据包转发处理的特性，以优化核心层获得低延迟和良好的可管理性。 **汇聚层是核心层和接入层的分界点，应尽量将资源访问控制、核心层流量的控制等都在汇聚层实施。**汇聚层应向核心层隐藏接入层的详细信息，汇聚层向核心层路由器进行路由宣告时，仅宣告多个子网地址汇聚而形成的一个网络。另外，汇聚层也会对接入层屏蔽网络其他部分的信息，汇聚层路由器可以不向接入路由器宣告其他网络部分的路由，而仅仅向接入设备宣告自己为默认路由。 **接入层为用户提供了在本地网段访问应用系统的能力，接入层要解决相邻用户之间的互访需要，并且为这些访问提供足够的带宽。**接入层还应该适当负责一些用户管理功能，包括地址认证、用户认证和计费管理等内容。接入层还负责一些用户信息收集工作，例如用户的IP地址、MAC地址和访问日志等信息。             

## 帧中继

![image-20211031112715801](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031112715801.png)

帧中继（Frame Relay，FR）是为克服X.25交换网的缺陷、提髙传输性能而发展起来的高速分组交换技术。帧中继网络不进行差错和流量控制，并且通过流水方式进行交换，所以比X.25网络的通信开销更少，传输速度更快。 帧中继提供面向连接的虚电路服务，因而比DDN专线更能提高通信线路利用率， 用户负担的通信费用也更低廉。在帧中继网中，用户的信息速率可以在一定的范围内变化，从而既可以适应流式业务，又可以适应突发式业务，这使得帧中继成为远程传输的理想形式。             

## 建筑物综合布线系统

![image-20211031112859799](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031112859799.png)

结构化综合布线系统（Structure Cabling System）是基于现代计算机技术的通信物理平台，集成了语音、数据、图像和视频的传输功能，消除了原有通信线路在传输介质上的差别。 结构化布线系统分为6个子系统：工作区子系统、水平子系统、干线子系统、设备间子系统、管理子系统和建筑群子系统。

 工作区子系统（Work Location）。 工作区子系统是**由终端设备到信息插座的整个区域**。一个独立的需要安装终端设备的区域划分为一个工作区。工作区应支持电话、数据终端、计算机、电视机、监视器以及传感器等多种终端设备。 

水平布线子系统（Horizontal）。 各个楼层接线间的配线架到工作区信息插座之间所安装的线缆属于水平子系统。水平子系统的作用是**将干线子系统线路延伸到用户工作区**。 

管理子系统（Administration）。 管理子系统设置在楼层的接线间内，由各种交连设备（双绞线跳线架、光纤跳线架）以及集线器和交换机等交换设备组成，交连方式取决于网络拓扑结构和工作区设备的要求。交连设备通过水平布线子系统连接到各个工作区的信息插座，集线器或交换机与交连设备之间通过短线缆互连，这些短线被称为跳线。通过跳线的调整，可以在工作区的信息插座和交换机端口之间进行连接切换。 

干线子系统（Backbone） 干线子系统是建筑物的主干线缆，**实现各楼层设备间子系统之间的互连**。干线子系统通常由垂直的大对数铜缆或光缆组成，一头端接于设备间的主配线架上，另一头端接在楼层接线间的管理配线架上。 

设备间子系统（Equipment）。 建筑物的设备间是网络管理人员值班的场所，设备间子系统由建筑物的进户线、交换设备、电话、计算机、适配器以及保安设施组成，实现**中央主配线架与各种不同设备 （如PBX、网络设备和监控设备等）之间的连接**。 

建筑群子系统（Campus）。 建筑群子系统也叫园区子系统，它是**连接各个建筑物的通信系统**。

## 路由

![image-20211031145857169](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031145857169.png)



 				各种路由来源的管理距离如下表所示。  

![image-20211031145929281](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031145929281.png)

如果路由器收到了由多个路由协议转发的、关于某个目标的多条路由，则比较各个路由的管理距离，并采用管理距离小的路由来源提供的路由信息。             



![image-20211031151258046](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031151258046.png)

地址220.112.145.32/22的二进制形式是 1101 1100.0111 0000.1001 0001. 0010 0000 

地址220.112.145.64/22的二进制形式是 1101 1100.0111 0000.1001 0001. 0100 0000 

地址220.112.147.64/22的二进制形式是 1101 1100.0111 0000.1001 0011. 0100 0000 

地址220.112.177.64/22的二进制形式是 1101 1100.0111 0000.1011 0001. 0100 0000 

地址220.112.179.92      的二进制形式是 1101 1100.0111 0000.1011 0011.0101 1100

所以与地址220.112.179.92匹配的是220.112.177.64/22。             

例题： 与地址220.112.179.92匹配的路由表的表项是（）。
A 220.112.145.32/22
B 220.112.145.64/22
C 220.112.147.64/22
D 220.112.177.64/22

地址220.112.179.92转换成二进制是：1101 1100 0111 0000 1011 0011 0101 1100

根据选项，要求是22位网络号，也就是说**1101 1100 0111 0000 1011 00**11 0101 1100加粗部分的22位网络号是固定不变的，剩下的10位是主机号。

也就是说斜线记法的地址是在1101 1100 0111 0000 1011 0000 0000 0000（220.112.176.0/22）~ 1101 1100 0111 0000 1011 0011 1111 1111（220.112.179.255/22）范围内，就D符合条件。

以220.112.177.64/22为例，先转换成二进制1101 1100 0111 0000 1011 0001 0100 0000
CIDR地址块的范围是1101 1100 0111 0000 1011 0000 0000 0000（220.112.176.0/22）~ 1101 1100 0111 0000 1011 0011 1111 1111（220.112.179.255/22），同样220.112.179.92也在范围内。

![image-20211031160221304](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031160221304.png)

Windows Server 2003的路由类型有5种，见下表。当Windows服务器收到一个IP数据包时，先查找主机路由，再查找网络路由（直连网络和远程网络），这些路由查找失败时，最后才查找默认路由。 路由类型              

![image-20211031160250240](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031160250240.png)

![image-20211031164901060](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031164901060.png)

静态路由是固定路由，从不更新除非拓扑结构发生变化；洪泛式路由将信息发送到连接的所有路由器，不利用网络信息；随机路由是洪泛式的简化；自适应路由依据网络信息进行代价计算，依据最小代价实时更新路由。

## 交换设备

![image-20211031153106804](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031153106804.png)

以太网交换机根据数据链路层MAC地址进行帧交换帧中继网和ATM网都是面向连接的通信网，交换机根据预先建立的虚电路标识进行交换。

帧中继的虚电路号是DLCI， 进行交换的协议数据单元为“帧”；

而ATM网的虚电路号为VPI和VCI，进行交换的协议数据单元为“信元”。

三层交换机是指因特网中使用的高档交换机，这种设备把MAC交换的高带宽和低延迟优势与网络层分组路由技术结合起来，其工作原理可以概括为：一次路由、多次交换、就是说，当三层交换机第一次收到一个数据包时必须通过路由功能寻找转发端口，同时记住目标MAC地址和源MAC地址，以及其他相关信息，当再次收到目标地址和源地址相同的帧时就直接进行交换了，不再调用路由功能。所以三层交换机不但具有路由功能，而且比通常的路由器转发得更快。            

# 网络协议

## 基础知识

1. 应用层协议SNMP的传输层协议是UDP，SNMP的协议的报文封装在UDP中。
2. ICMP （Internet control Message Protocol）与IP协议同属于网络层，用于传送有关通信问题的消息，例如数据报不能到达目标站，路由器没有足够的缓存空间，或者路由器向发送主机提供最短通路信息等。**ICMP报文封装在IP数据报中传送，因而不保证可靠的提交。**
3. 无线通信技术中，通信最短的是蓝牙，10m左右。    
4. 中国自主研发的3G通信标准是TD-SCDMA         
5. DHCP协议的功能是自动分配IP地址；FTP协议的作用是文件传输，使用的传输层协议为TCP。             

## HTTP

HTTPS安全超文本传输协议，是以安全为目标的HTTP通道，简单讲是HTTP的安全版。HTTPS在HTTP的基础上加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。             

 HTTPS和HTTP的区别：

 • https协议需要到ca申请证书，一般免费证书很少，需要交费。 

• http是超文本传输协议，信息是明文传输，https 则是具有安全性的ssl加密传输协议。

 • http和https使用的是完全不同的连接方式用的端口也不一样，前者是80，后者是443。 

• http的连接很简单，是无状态的。 HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。       

![image-20211031162301796](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031162301796.png)

本题A选项和C选项有一定的争议点，对于先解析还是先断开连接，不同的地方有不同的理解与解释。             

## ARP

APR属于网络层协议，他的作用是 实现IP地址与MAC地址之间的变换。

 IP地址是分配给主机的逻辑地址，在互联网中表示唯一的主机。另外，每个主机还有一个物理地址，通常用网卡地址（MAC地址）来表示主机的物理地址。 

## PPP

PPP 认证是可选的。PPP 扩展认证协议（Extensible Authentication Protocol，EAP） 可**支持多种认证机制，并且允许使用后端服务器来实现复杂的认证过程。**

通常PPP支持的两个认证协议是： 

①口令验证协议（Password Authentication Protocol，**PAP**）：提供了一种**简单的两次握手认证方法**，由终端发送用户标识和口令字，等待服务器的应答，如果认证不成功，则终止连接。这种方法不安全，因为采用文本方式发送密码，可能会被第三方窃取。 

②质询握手认证协议（Challenge Handshake Authentication Protocol，**CHAP**）；**采用三次握手方式周期地验证对方的身份。**首先是逻辑链路建立后认证服务器就要发送一个挑战报文（随机数），终端计算该报文的Hash值并把结果返回服务器，然后认证服务器把收到的Hash值与自己计算的Hash值进行比较，如果匹配，则认证通过，连接得以建立，否则连接被终止。计算Hash值的过程有一个双方共享的密钥参与，而密钥是不通过网络传送的，所以CHAP是更安全的认证机制。在后续的通信过程中，每经过一个随机的间隔，这个认证过程都可能被重复，以缩短入侵者进行持续攻击的时间。值得注意的是，这种方法可以进行双向身份认证，终端也可以向服务器进行挑战，使得双方都能确认对方身份的合法性。

## TCP和UDP

TCP：三次握手，可靠性高，开销大。能实现可靠传输，流量控制，拥塞控制。

UDP：可靠性低，开销小。             

![image-20211031162653147](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031162653147.png)

**TCP的流量控制采用了可变大小的滑动窗口协议**，由接收方指明接收缓冲区的大小（字节数），发送方发送了规定的字节数后等待接收方的下一次请求。固定大小的滑动窗口协议用在数据链路层的HDLC中。可变大小的滑动窗口协议可以应付长距离通信过程中线路延迟不确定的情况，而固定大小的滑动窗口协议则适合链路两端点之间通信延迟固定的情况。             

浏览网页、Telnet远程登录以及发送邮件应用均不允许数据的丢失，需要采用可靠的传输层协议TCP，而VoIP允许某种程度上的数据丢失，采用不可靠的传输层协议UDP。             

## ICMP

ICMP （Internet control Message Protocol）**与IP协议同属于网络层**，用于传送有关通信问题的消息，例如数据报不能到达目标站，路由器没有足够的缓存空间，或者路由器向发送主机提供最短通路信息等。**ICMP报文封装在IP数据报中传送，因而不保证可靠的提交。**           

## 邮件传输协议

[理解邮件传输协议（SMTP、POP3、IMAP、MIME） - 穆穆兔兔 - 博客园 (cnblogs.com)](https://www.cnblogs.com/diegodu/p/4097202.html)

POP3，用户获取自己的邮件需要使用此协议

 MIME协议用于定义复杂的邮件体格式，使邮件不仅能发文本，还能发其他格式的内容。

SMTP传输的邮件报文采用ASCII格式表示。

POP3协议是TCP/IP协议簇中用于邮件接收的协议。**邮件客户端通过与服务器之间建立TCP连接，采用Client/Server计算模式来传送邮件。**             

![image-20211101110641457](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101110641457.png)

Outlook Express有以下一些优点：

 • 可以脱机处理邮件，有效利用联机时间，降低了上网费用。 

• 可以管理多个邮件账号，在同一个窗口中使用多个邮件账号。

 • 可以使用通讯簿存储和检索电子邮件地址。 

• 在邮件中添加个人签名或信纸。 

• 发送和接收安全邮件。             

## 子网掩码

  ![image-20211031154255173](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031154255173.png)

255.255.224.0 转换为二进制   11111111.11111111.11100000.000000。比正常的B类子网255.255.0.0多了3个1。所以把B类网络划分成了8个子网。 2^3=8

如果要将一个网络划分子网，则 2^k=n   n表示要划分的数量，K表示占用主机号的位数。

子网掩码中，1是网络号，0是主机号。

上述题目中，255.255.224.0占用的主机号数位3，因此n=8.

## ADSL

![image-20211031160032922](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031160032922.png)

使用ADSL接入Internet，用户端需要安装PPPoE

ADSL Modem上网拨号方式有3种，即专线方式（静态IP）、PPPoA和PPPoE。 

PPPoE（英语：Point-to-Point Protocol Over Ethernet），以太网上的点对点协议，是将点对点协议（PPP）封装在以太网（Ethernet）框架中的一种网络隧道协议。

 PPTP（Point to Point Tunneling Protocol），即点对点隧道协议。该协议是在PPP协议的基础上开发的一种新的增强型**安全协议**，支持多协议虚拟专用网（VPN），可以通过密码验证协议（PAP）、可扩展认证协议（EAP）等方法增强安全性。可以使远程用户通过拨入ISP、通过直接连接Internet或其他网络安全地访问企业网。

 SLIP（Serial Line Internet Protocol，串行线路网际协议），该协议是Windows远程访问的一种旧工业标准，主要**在Unix远程访问服务器中使用**，现今仍然用于连接某些ISP。 PPP（点到点协议）是为在同等单元之间传输数据包这样的简单链路设计的链路层协议。这种链路提供全双工操作，并按照顺序传递数据包。设计目的主要是用来通过拨号或专线方式建立点对点连接发送数据，使其成为各种主机、网桥和路由器之间简单连接的一种共通的解决方案。             

## IPV6和IPV4

[IPv6，到底是什么？ - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/36542469)

![image-20211031162904254](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031162904254.png)

IPv4用32位二进制表示，能够表示的地址空间是232，IPv6用128位二进制表示，能够表示的地址空间是2128，本题选择2128 /232=296 。      

**如果要使得两个IPv6结点可以通过现有的IPv4网络进行通信，则应该使用隧道技术，如果要使得纯IPv6结点可以与纯IPv4结点进行通信，则需要使用翻译技术。**             

## 三网合一

“三网合一”是将电信网、广播电视网以及互联网进行整合，实现业务互联互通的一种网络解决方案。      

## 异步通信

![image-20211031164113078](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031164113078.png)

每个字符的位数为1+7+2=10，每秒传输500个字符，故每秒传输的位数为10*500=5000，即码元速率为5000波特，每个字符中的有效数据占7位，因此每秒的有效数据为3500bit，则有效数据速率为3500b/s。       

# 网络安全

![image-20211031170811217](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031170811217.png)

数字签名（Digital Signature）技术是不对称加密算法的典型应用。数字签名的应用过程是：数据源发送方使用自己的私钥对数据校验和或其他与数据内容有关的变量进行加密处理，完成对数据的合法“签名”；数据接收方则利用对方的公钥来解读收到的“数字签名”，并将解读结果用于对数据完整性的检验，以确认签名的合法性。数字签名技术是在网络系统虚拟环境中确认身份的重要技术，完全可以代替现实过程中的“亲笔签字”， 在技术和法律上有保证，可见**数字签名是对签名真实性的保护。**             

![image-20211031170856363](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031170856363.png)

 ARP攻击（ARP欺骗）是欺骗攻击的一种，**通过伪造IP地址和MAC地址，能够在网络中产生大量的ARP通信量使网络阻塞，**如果伪造网关的IP地址和MAC地址对，则所有发往网关的IP包将因为MAC地址错误而无法到达网关（ARP攻击一般会将MAC地址改为发起ARP攻击的主机地址），造成无法跨网段通信。 处理ARP攻击的方法为首先断开ARP攻击主机的网络连接，然后用“arp-d”命令清除受攻击影响的ARP缓存。             

![image-20211031171055007](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031171055007.png)

SSH 为 Secure Shell 的缩写，由 IETF 的网络小组（Network Working Group）所制定；SSH 为建立在应用层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。             

![image-20211031171135527](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031171135527.png)

在IE浏览器中，安全级别最高的区域设置是受限站点。其中Internet区域设置适用于Internet网站，但不适用于列在受信任和受限制区域的网站；本地Intranet区域设置适用于在Intranet中找到的所有网站；可信任站点区域设置适用于你信任的网站；而受限站点区域设置适用于可能会损坏你计算机或文件的网站，它的安全级别最高。       

![](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031171230066.png)

![image-20211031171330095](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031171330095.png)

![image-20211031171348328](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211031171348328.png)

可用性是指网络系统、网络元素或网络应用对用户可利用的时间的百分比。有些应用对可用性很敏感，例如飞机订票系统若宕机一小时，就可能减少几十万元的票款；而股票交易系统如果中断运行一分钟，就可能造成几千万元的损失。**实际上，可用性是网络元素可靠性的表现，而可靠性是指网络元素在具体条件下完成特定功能的概率。**             

# 网络应用

## 基础：

1. 在浏览器地址栏输入一个正确的网址后，本地主机将首先在（本机hosts文件）查询该网址对应的IP地址。
   1. DNS域名查询的次序是：本地的hosts文件一>本地DNS缓存一>本地DNS服务器一>根域名服务器。         
2. 在ASP内置对象中，response对象可以修改cookie的值，request可以访问cookie的值。
3. 诊断DNS故障：nslookup  ping  tracert
4. 使用ping命令进行网络检测，按照由近及远原则，首先执行的是ping127.0.0.1，其次是ping本地IP，再次是ping默认网关，最后是ping远程主机。             
5. 检验本机个端口的网络俩和你姐情况：netstat
6. 刷新DNS解析器缓存 ipconfig/flushdns

![image-20211101101840202](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101101840202.png)

## 子网计算

![image-20211101083222573](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101083222573.png)

A类网络的网络号占8位，其中第一位固定必须是0，则一共有2^7个网络地址。

255.255.192.0 转二进制  11111111**.11111111.11**000000.00000000

子网数量为  2^k=N  k为主机号的数量1（上方加粗），N 为子网数量。 1024

![image-20211101095506627](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101095506627.png).

 				把网络117.15.32.0/23划分为117.15.32.0/27，则子网掩码扩大了4位，所以得到的子网是16个。由于子网掩码为27位，所以主机地址只占5位，每个子网中可使用的主机地址是30个。   

![image-20211101110457602](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101110457602.png)

由于分配给公司网络的地址块是210.115.192.0/20，留给子网掩码的比特数只有4位，所以只能划分为16个C类子网，这16个C类子网的子网号为11000000〜11001111，即192〜207，所以210.115. 210. 0不属于该公司的网络地址。             

## 最大地址，最小地址

![image-20211101083644473](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101083644473.png)

1. 主机地址  。  2^6-2 = 62  -2是为了排除全0和全1。
2. 222.125.80.10XXXXXX的形式，最小地址为222.128.80.10000001，最大地址为222.125.80.10111110，即222.125.80.190
   1. 解析：后六位是不固定的，但是不能全为0，也不能全为1，因此最小是0000001，最大时111110

## 判断两个网络地址是否是同一子网。

将两个网络地址转换成十进制，分析他们的网络号和子网号分别是多少位，判别前面的几位子网号是否相同。

![image-20211101085753857](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101085753857.png)

A的IP地址：131.1.123.24/27  转10进制     10000011.00000001.01111011.00011000  

A的网关地址：131.1.123.33 转10进制         10000011.00000001.01111011.00100001

/27表示 五位主机号。 去掉主机号，判断网络号是否相同。A的两个地址的ip不同，因此不属于同一子网。

​          ![image-20211101103956079](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101103956079.png)

默认网关和本地IP地址应属同一网段。             

## 网络地址/子网掩码/广播地址

这些都跟子网掩码挂钩拿一个C类地址举例 

192.168.1.1/24

24表示它的子网掩码是255.255.255.0转为2进制就是11111111.11111111.11111111.00000000

它的网络地址即为192.168.1.0。

主机地址192.168.1.1----192.168.1.254

广播地址：就是IP地址中子网掩码后面的地址二进制全为1再转十进制即192.168.1.255

## 默认端口

1. FTP服务器的控制端口21，数据口（上传文件端口）20
2.  25端口为SMTP（Simple Mail Transfer Protocol，简单邮件传输协议）服务器所开放，主要用于发送邮件。
3. 110端口是为POP3（邮件协议3）服务开放的，POP2、POP3都是主要用于接收邮件的，目前POP3使用的比较多，许多服务器都同时支持POP2和POP3。客户端可以使用POP3协议来访问服务端的邮件服务。             

## url

![image-20211101102600139](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101102600139.png)

URL由三部分组成：资源类型、存放资源的主机域名、资源文件名。 URL的一般语法格式为（带方括号[]的为可选项）： protocol :// hostname[:port] / path /filename 其中，protocol指定使用的传输协议，最常见的是HTTP或者HTTPS协议，也可以有其他协议，如file、ftp、，gopher、mms、ed2k等；hostname是指主机名，即存放资源的服务域名或者IP地址；port是指各种传输协议所使用的默认端口号，该选项是可选选项，例如http的默认端口号为80，一般可以省略，如果为了安全考虑，可以更改默认的端口号，这时，该选项是必选的；path是指路径，有一个或者多个“/”分隔，一般用来表示主机上的一个目录或者文件地址；filename是指文件名，该选项用于指定需要打开 的文件名称。 一般情况下，一个URL可以采用“主机名.域名”的形式打开指定页面，也可以单独使用“域名”来打开指定页面，但是这样实现的前提是需进行相应的设置和对应。

## 域名解析流程

1.客户机提出域名解析请求，并将该请求发送给本地的域名服务器。     

2.当本地的域名服务器收到请求后，就先查询本地的缓存，如果有该纪录项，则本地的域名服务器就直接把查询的结果返回。    

 3.如果本地的缓存中没有该纪录，则本地域名服务器就直接把请求发给根域名服务器，然后根域名服务器再返回给本地域名服务器一个所查询域（根的子域）的主域名服务器的地址。     

4.本地服务器再向上一步返回的域名服务器发送请求，然后接受请求的服务器查询自己的缓存，如果没有该纪录，则返回相关的下级的域名服务器的地址。    

 5.重复第4步，直到找到正确的纪录。     

6.本地域名服务器把返回的结果保存到缓存，以备下一次使用，同时还将结果返回给客户机。    

![image-20211101110218444](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101110218444.png)

 在Windows的DNS服务器中基于DNS的循环（round robin），只需要为同一个域名设置多个ip主机记录就可以了，DNS中没有转发器的概念，因此需要启用循环，添加每个Web服务器的主机记录就可以确保域名解析并实现负载均衡。             

## ipconfig

ipconfig 显示信息；

 ipconfig /all 显示详细信息 ，可查看DHCP服务是否已启用；

 ipconfig /renew 更新所有适配器；

 ipconfig /release 释放所有匹配的连接。             

## 超网

![image-20211101105550056](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101105550056.png)

我们可以知道C类地址的子网掩码为255.255.255.0，而四个子网需要用2位来表示，因此如果要将4个连续的C类网络汇聚成一个超网，只需将子网掩码第3个字节的最后两位都变成0即可，因此超网的子网掩码是255.255.252.0。

# 多媒体    

## 图形和图像

### 基础

1. ADPCM既不是图像编码，也不是视频编码的国籍标准
2.  计算机中使用的图像压缩编码方法有多种国际标准和工业标准。目前广泛使用的编码及压缩标准有JPEG、MPEG和H.261。
   1.  JPEG是一个适用范围很广的静态图像数据压缩标准，既可用于灰度图像又可用于彩色图
   2. **MPEG（重要）** 1992年提出MPEG-l、MPEG-2 标准，用于实现全屏幕压缩编码及解码。
      1. MPEG-1，2,4是针对音视频编码技术
         1. 1应用在vcd
         2. 2应用在dvd
         3. 4 增强了交互性
      2. MPEG-7多媒体内容描述接口。
      3. MPEG-21 多媒体应用框架标准
      4. 每个新标准的产生都极大地推动了数字视频的发展和更广泛的应用。
   3.  H.261视频通信编码标准，该标准又称为PX64K标准。CCITT推出的H.263标准用于低位速率通信的电视图像编码。
3. dpi 是 Dots Per Inch 的缩写，也就是每英寸的像素。        
4. 亮度是指发光体(反光体)表面发光(反光)强弱的物理量。
5. 色调指的是一幅画中画面色彩的总体倾向，是大的色彩效果。
6. 饱和度是指色彩的鲜艳程度，也称色彩的纯度。             

### 位图

 位图图像是指用像素点来描述的图。图像一般是用摄像机或扫描仪等输入设备捕捉实际场景画面，离散化为空间、亮度、颜色（灰度）的序列值，即把一幅彩色图或灰度图分成许许多多的像素（点），每个像素用若干二进制位来指定该像素的颜色、亮度和属性。位图图像在计算机内存中由一组二进制位组成，这些位定义图像中每个像素点的颜色和亮度。图像适合于表现比较细腻，层次较多，色彩较丰富，包含大量细节的图像， 并可直接、快速地在屏幕上显示出来。但占用存储空间较大，一般需要进行数据压缩。             

特点：

​	1. 占用空间大，处理侧重于获取和赋值，显示速度快。

### 矢量图

矢量图，也称为[面向对象](https://baike.baidu.com/item/面向对象)的[图像](https://baike.baidu.com/item/图像)或绘图图像，在[数学](https://baike.baidu.com/item/数学/107037)上定义为一系列由点连接的线。矢量文件中的图形元素称为对象。每个对象都是一个自成一体的实体，它具有[颜色](https://baike.baidu.com/item/颜色/5014)、形状、[轮廓](https://baike.baidu.com/item/轮廓/4155218)、大小和[屏幕](https://baike.baidu.com/item/屏幕/3750314)位置等属性。

​     矢量图是根据几何特性来绘制图形，矢量可以是一个点或一条线，矢量图只能靠软件生成，文件占用内在空间较小，因为这种类型的图像文件包含独立的分离图像，可以自由无限制的重新组合。它的特点是放大后图像不会失真，和分辨率无关，适用于图形设计、文字设计和一些标志设计、版式设计等。     

矢量图中的图形元素称为图元。而另一类图具有代表性的图像表示形式是位图图像，该图采用像素来表示图像。

特点：

1. 面向对象的图像或绘制图像，图形元素称为对象
2. 定义为由一系列由点连接的线
3. 矢量图中的图形元素称为图元
4. 位图采用像素来表示图像
5. 放大后图像不会失真

![image-20211015090719319](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211015090719319.png)

### 计算数据量

![image-20211101112124920](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101112124920.png)

1、横向分辨率×纵向分辨率=格子的总数，256×512=131072。

2、每格的描述数量=颜色数×颜色表示位数，3×8bit=24bit。

3、格子的总数×每格的描述数量=总数据位数，24bit×131072=3145728bit。

4、总数据位数÷8=数据量，3145728bit÷8 = 393216(B)=393216÷1024=384(KB)。

![image-20211101113909572](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101113909572.png)

DPI（Dots Per Inch，每英寸像素数）通常用来描述数字图像输入设备（如图像扫描仪）或点阵图像输出设备（点阵打印机）输入或输出点阵图像的分辨率。一幅3×4英寸的彩色照片在150DPI的分辨率下扫描得到原始的24位真彩色图像的数据量是（150×3）×（150×4）×24/8=810000字节。          

![image-20211101114103230](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101114103230.png)   

 				DPI为像素/英寸，可以得到（300*3）*（300*4）=900*1200。  

#### 总结：

1.  dpi 每英寸像素数
2. 数字图像 ： 400*500的分辨率下，150dpi下 。 形成数字图像为400 * 150 *  500 *150。
3. 数据量：数字图像*该图像的位数 / 8. 

### 颜色深度

![image-20211101112830998](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101112830998.png)

 				2^8=256种不同的颜色或灰度等级。             

### 光盘存储

![image-20211101113525295](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101113525295.png)

## 音频

人：20HZ--20KHZ，乐器和人体一样。

说话：300--3400HZ

### mic话筒接口

MIC （话筒）**输出的是音频模拟信号**，声卡从MIC获取音频模拟信号后，通过模数 转换器（ADC），将声波振幅信号采样转换成一串数字信号并存储到计算机中。重放时，这些数字信号送到数模转换器（DAC），以同样的采样速度还原为模拟波形，放大后送到扬声器发声，这一技术称为脉冲编码调制技术（PCM）。             

接收（A/D）：将声音信号转换成数字信号

播放(D/A)：将数字信号转换成声音信号

### 音乐合成技术

计算机数字音乐合成技术主要**有FM和Wave Table，**其中FM**即频率调制**，在电子音乐合成技术中，是最有效的合成技术之一，而**WaveTable即波形表合成，它是一种真实的音乐合成技术，其合成的音乐音质更好。**             

![image-20211101120053635](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101120053635.png)

![image-20211101120917128](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101120917128.png)

### 采样频率

![image-20211101120617706](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101120617706.png)

语音信号频率范围是300Hz〜3.4kHz，也就是不超过4kHz，按照奈奎斯特定律，要保持话音抽样以后再恢复时不失真，**最低抽样频率是2倍的最高频率，**即8kHz就可以保证信号能够正确恢复，因此将，字语音的采样频率定义为8kHz。           

### 常见视频分辨率

  ![image-20211101121628481](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101121628481.png)

### 其他

![image-20211101121752410](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101121752410.png)

![image-20211101121950394](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101121950394.png)

JPEG累进（或增量、渐进、递增、progressive）编码模式，这样可以实现图像内容的方式传输，在浏览器上的直观效果是无需过久等待即可看到模糊的图像，然后图像显示内容由模糊逐渐变得清晰。

 GIF图像文件格式以数据块为单位来存储图像的相关信息，采用了LZW无损压缩算法按扫描行压缩图像数据。它可以在一个文件中存放多幅彩色图像，每一幅图像都由一个图像描述符、可选的局部彩色表和图像数据组成。如果把存储于一个文件中的多幅图像逐幅读出来显示到屏幕上，可以像播放幻灯片那样显示或者构成简单的动画效果。

GIF定义了两种数据存储方式，一种是按行连续存储，存储顺序与显示器的显示顺序相同；另一种是按交叉方式存储，由于显示图像需要较长的时间，使用这种方法存放图像数据，用户可以在图像数据全部收到之前这幅图像的全貌，而不觉得等待时间太长。

 图像信号是一种模拟信号，计算机要对它进行处理，必须将它转换成为数字图像信号，即用二进制数字的编码形式来表示图像，转换过程一般称为A/D转换（模数转换）。将图像播放出来，需进行D/A转换（数模转换）。             

### 变现/感觉媒体

国际电话电报咨询委员会（CCITT）将媒体分为**感觉媒体、 表示媒体、 表现媒体、存储媒体和传输媒体**5类。 

感觉媒体指直接作用于人的感觉器官.，使人严生内接感觉的媒体， 如引起听觉反应的声音、引起视觉反应的图像等；

 传输媒体指传输表示媒体的物理介质，如电缆、光缆。电磁波等； 

表示媒体指传输感觉媒体的中介媒体，即用于数据交换的编码，如图像编码、文本编码和声音编码等；

 表现媒体是指进行信息输入和输出的媒体，如键盘、鼠标、话筒，以及显示器、打印机、喇叭等；

存储媒体指用于存储表示媒体的物理介质，如硬盘、光盘等。             

### 计算公式

![image-20211101144209756](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20211101144209756.png)

